initSidebarItems({"struct":[["WebVRCompositor","Notes about WebVRCompositorHandler implementation: Raw pointers are used instead of Arc as a heavy optimization for latency reasons. This also avoids \"JS DDoS\" attacks: like a secondary JavaScript tab degrading performance by flooding the WebVRThread with messages while the main JavaScript tab is presenting to the headset. Multithreading won't be a problem because:    * Thanks to the security rules implemented in the WebVRThread, when a VRDisplay is in a presenting loop      no other JSContext is granted access to the VRDisplay. So really there arenâ€™t multithreading race conditions.    * VRDisplay implementations are designed to allow calling compositor functions      in another thread by using the Send + Sync traits. VRDisplays pointers are guaranteed to be valid memory:    * VRDisplays are owned by the VRServiceManager which lives in the WebVRThread.    * WebVRCompositorHandler is stopped automatically when a JS tab is closed or the whole browser is closed.    * WebVRThread and its VRDisplays are destroyed after all tabs are dropped and the browser is about to exit.      WebVRThread is closed using the Exit message."],["WebVRCompositorHandler",""],["WebVRThread","WebVRThread owns native VRDisplays, handles their life cycle inside Servo and acts a doorman for untrusted VR requests from DOM Objects. These are the key components    * WebVRThread::spawn() creates a long living thread that waits for VR Commands from DOM objects      and handles them in its trusted thread. The back and forth comunication with DOM is implemented      using IPC-channels. This thread creates the VRServiceManager instance, which handles the life cycle      of all VR Vendor SDKs and owns all the native VRDisplays. These displays are guaranteed to live while      the spawned thread is alive. The WebVRThread is unique and it's closed using the Exit message when the      whole browser is going to be closed.    * A Event Polling thread is created in order to implement WebVR Events (connected, disconnected,..).      This thread wakes up the WebVRThread from time to time by sending a PollEvents message. This thread      is only created when there is at least one live JavaScript context using the WebVR APIs and shuts down it when      the tab is closed. A single instance of the thread is used to handle multiple JavaScript contexts.      Constellation channel is used to notify events to the Script Thread.    * When the WeVR APIs are used in a tab, it's pipeline_id is registered using the RegisterContext message. When      the tab is closed, UnregisterContext message is sent. This way the WebVR thread has a list of the pipeline      ids using the WebVR APIs. These ids are used to implement privacy guidelines defined in the WebVR Spec.    * When a JavaScript thread gains access to present to a headset, WebVRThread is not used as a intermediary in      the VRDisplay.requestAnimationFrame loop in order to minimize latency. A direct communication with WebRender      is used instead. See WebVRCompositorHandler and the WebVRCommands for more details."]],"type":[["WebVRCompositorSender",""]]});